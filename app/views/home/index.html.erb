<!-- Header -->

<div class="jumbotron">
  <h1 class="display-3">Hello</h1>
  <p class="lead">Carl's home page stuff will go here</p>
  <hr class="my-4">
  
  <p class="lead">
    There's other stuff under this, but it doesn't necessarily need to be on the home page
  </p>
</div>

<!--header id="hopeHeader" class="masthead"></header-->


<!-- Carousel -->
<div id="homeCarousel" class="carousel slide" data-ride="carousel">
  <h1 class="backgroundHeader text-center">Welcome to our church <span class="glyphicon glyphicon-home"></span></h1>
  <hr style="width: 75%;">
  <h3 class="text-center">We hope you enjoy your time here</h5>
  <br/>

  <!-- TODO: itemをmodalにすること -->
  <div class="carousel-inner" onmouseenter="changeToVisible();" onmouseleave="changeToHidden();">
    <div class="item active">
      <%= image_tag "group1.jpg", class: "d-block w-100", alt: "First slide" %>
    </div>
    <div class="item">
      <%= image_tag "group2.jpg", class: "d-block w-100", alt: "Second slide" %>
    </div>
    <div class="item">
      <%= image_tag "group3.jpg", class: "d-block w-100", alt: "Third slide" %> 
    </div>

    <a class="left carousel-control" href="#homeCarousel" role="button" data-slide="prev">
      <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
    </a>
    <a class="right carousel-control" href="#homeCarousel" role="button" data-slide="next">
      <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
    </a>
  </div> 
</div>


<!-- Messages -->
<% first_video_data = getVideoDataFrom(Message.first.link) %>
<div id="homeVideoContainer" class="text-center">
  <h1 class="backgroundHeader" style="color: white;">Messages every week</h1>
  <hr width="75%">
  <div id="videoHeader" width="100%">
    <iframe width="80%" height="550" src='https://www.youtube.com/embed/<%= first_video_data[:id] %>' frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
  </div>
</div>


<!-- 
TODO: EnglishかArt Tryのアルバム？的なのがいいかな
      写真をこうしたらいいかな：

      English Service
      O      O      O
      O      O      O
      (divの幅を100%にして)
-->

<!-- Access Map -->
<% str = "\"//maps.google.com/maps/api/js?key=" + ENV['google_api_key'] + "\"" %>
<script src=<%= str.html_safe %>></script>
<script src="//cdn.rawgit.com/mahnunchik/markerclustererplus/master/dist/markerclusterer.min.js"></script>

<div id="homeMap" style="width: 100%;">
  <div id="homeMap-inner" class="text-center" style="width: 80%; margin: 0px auto;">
    <h1 class="backgroundHeader">Come and visit! <span class="glyphicon glyphicon-road"></span></h1>
    <hr width="75%">
    <div id="map" width="100%" style='height: 500px;'></div>
  </div>
</div>

<!-- TODO: このコードはaccessと重複してる。assetsに入れるか、home#accessごとを消すか -->
<script>
  handler = Gmaps.build('Google');
  handler.buildMap({ provider: {}, internal: {id: 'map'}}, function(){
    markers = handler.addMarkers([
      {
        "lat": 34.696041,
        "lng": 135.732459,
        // Other stuff like "picture" can be added as well, but I think it's fine how it is now.
        // "infowindow": "JEC ホープチャペル Hope Chapel"
      }
    ]);
    handler.bounds.extendWith(markers);
    handler.fitMapToBounds();
    // The station can be seen when the zoom is at 16 so I think this should be fine.
    handler.getMap().setZoom(16);
  });
</script>

<!-- Footer -->
<footer class="footer">
  <div class="container">
    <p class="text-muted">Facebook, Twitter, Youtube</p>
  </div>
</footer>
